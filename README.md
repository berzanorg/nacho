# Nacho

A decentralized and scalable layer-2 solution that allows decentralized trading on top of Mina Protocol.

Nacho is being built by [**Berzan**](https://berzan.org/) with his love, sweet and tears.

## System Architecture

In high level overview, Nacho consists of a sequencer, a prover and a smart contract.

Nacho has a client, a state database, a witness database, a prover and a smart contract.

### Client

The client provides an interface to interact with Nacho. 
It uses a custom RPC protocol and data format for low deserialization cost and high performance.
It is the program that runs Nacho.

### State Database

The state database stores Nacho's state in a way that allows quick access.
It also stores the leaf index of each data along with the data to provide a constant time to get the witness of a data from the witness database.

### Witness Database

The witness database stores the hashes of each data stored in the state database inside an on disk Merkle tree.
It also makes it possible to represent the entire state as a fixed size Merkle root.
It is optimized for high performance and low disk usage.

### Prover

The prover generates proofs using user transactions in batches as private inputs and the Merkle root of the entire state as the public input, returning the Merkle root of the updated state as the public output.

### Smart Contract

The smart contract stores the Merkle root of the latest state backed up in the smart contract and updates it by verifying proofs generated by the prover.
